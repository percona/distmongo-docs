{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Percona Distribution for MongoDB 7.0 Documentation","text":"<p>Percona Distribution for MongoDB is a collection of solutions to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>Get started What\u2019s new </p> <p></p>"},{"location":"index.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"404.html","title":"404 - Not Found","text":"<p>We can\u2019t find the page you are looking for. Try using the Search or return to the homepage.</p> <p></p>"},{"location":"404.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"copyright.html","title":"Copyright and licensing information","text":""},{"location":"copyright.html#documentation-licensing","title":"Documentation licensing","text":"<p>Percona Distribution for MongoDB documentation is (C)2009-2023 Percona LLC and/or its affiliates and is distributed under the Creative Commons Attribution 4.0 International License.</p> <p></p>"},{"location":"copyright.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"installation.html","title":"Install Percona Distribution for MongoDB","text":"<p>We recommend to install Percona Distribution for MongoDB from Percona repositories using the package manager of your operating system. Find the list of supported Linux distributions on the Percona Software and Platform Lifecycle page.</p> <p>Alternatively, you can download Percona Distribution for MongoDB from Percona website and install it manually from binary tarballs.</p> <p>Choose how you wish to install Percona Distribution for MongoDB:</p> On Debian/UbuntuOn RHEL/derivativesFrom tarballsOn Kubernetes <p>Run the following commands as root or by using the sudo command.</p> <ol> <li> <p>Install percona-release repository management tool to subscribe to Percona repositories:    </p> <ul> <li>Install <code>curl</code> </li> </ul> <pre><code>$ sudo apt update\n$ sudo apt install curl\n</code></pre> <ul> <li>Download the percona-release package    </li> </ul> <pre><code>$ curl -O https://repo.percona.com/apt/percona-release_latest.generic_all.deb\n</code></pre> <ul> <li>Install the package and dependencies    </li> </ul> <pre><code>$ sudo apt install gnupg2 lsb-release ./percona-release_latest.generic_all.deb\n</code></pre> <ul> <li>Update the local packages list</li> </ul> <pre><code>$ sudo apt update\n</code></pre> <p>Note</p> <p>If you have already installed <code>percona-release</code>, upgrade it to the latest version.</p> </li> <li> <p>Enable the repository    </p> <p>Percona provides two repositories for Percona Distribution for MongoDB. To enable a repo, we recommend using the <code>setup</code> command:    </p> <pre><code>$ sudo percona-release setup pdmdb-7.0\n</code></pre> </li> <li> <p>Install Percona Distribution for MongoDB packages    </p> <pre><code>$ sudo apt install percona-server-mongodb percona-backup-mongodb\n</code></pre> </li> </ol> <p>Run the following commands as root or by using the sudo command.</p> <ol> <li> <p>Install percona-release repository management tool to subscribe to Percona repositories:    </p> <pre><code>$ sudo yum install -y https://repo.percona.com/yum/percona-release-latest.noarch.rpm\n</code></pre> <p>Note</p> <p>If you have already installed <code>percona-release</code>, upgrade it to the latest version.   </p> </li> <li> <p>Enable the repository    </p> <p>Percona provides two repositories for Percona Distribution for MongoDB. To enable a repo, we recommend using the <code>setup</code> command:    </p> <pre><code>$ sudo percona-release setup pdmdb-7.0\n</code></pre> </li> <li> <p>Install Percona Distribution for MongoDB packages    </p> <pre><code>$ sudo yum install percona-server-mongodb percona-backup-mongodb\n</code></pre> </li> </ol> <p>You can find binary tarballs on the Percona software downloads page</p> <ol> <li> <p>Select Generic Linux from the dropdown.</p> </li> <li> <p>Download binary tarballs. Replace the &lt;version&gt; variable with the desired version:</p> <pre><code>$ wget https://downloads.percona.com/downloads/percona-distribution-mongodb-7.0/percona-distribution-mongodb-&lt;version&gt;/binary/tarball/percona-backup-mongodb-&lt;version&gt;-x86_64.tar.gz\n$ wget https://downloads.percona.com/downloads/percona-distribution-mongodb-7.0/percona-distribution-mongodb-&lt;version&gt;/binary/tarball/percona-server-mongodb-&lt;version&gt;-x86_64.glibc2.17.tar.gz\n</code></pre> </li> <li> <p>Extract the tarballs</p> <pre><code>$ tar -xf percona-backup-mongodb-&lt;version&gt;-x86_64.tar.gz\n$ tar -xf percona-server-mongodb-&lt;version&gt;-x86_64.glibc2.17.tar.gz\n</code></pre> </li> <li> <p>Export the location of the binaries to the PATH variable</p> <p>For example, if you\u2019ve extracted the tarballs to your home directory, the commands would be the following:</p> <pre><code>$ export PATH=~/percona-backup-mongodb-&lt;version&gt;/:~/percona-server-mongodb-&lt;version&gt;/:$PATH\n</code></pre> </li> <li> <p>Create the default data directory for Percona Server for MongoDB:</p> <pre><code>$ sudo mkdir -p /data/db\n</code></pre> </li> <li> <p>Check that you have read and write permissions for the data directory and run <code>mongod</code>.</p> </li> </ol> <p>Deploy and run Percona Distribution for MongoDB on Kubernetes with Percona Operator for MongoDB. See Quickstart guides for the installation instructions on your favorite Kubernetes flavor.</p> <p>To set up monitoring of your Percona Distribution for MongoDB in PMM, see Set up PMM to monitor MongoDB</p>"},{"location":"installation.html#uninstall-percona-distribution-for-mongodb","title":"Uninstall Percona Distribution for MongoDB","text":"<p>To uninstall Percona Distribution for MongoDB, remove the packages using the package manager of your operation system. Optionally, disable Percona repository.</p> <p>See also</p> <ul> <li> <p>Uninstall Percona Server for MongoDB</p> </li> <li> <p>Uninstall Percona Backup for MongoDB</p> </li> </ul> <p></p>"},{"location":"installation.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"minor-upgrade.html","title":"Minor upgrade of Percona Distribution for MongoDB","text":"<p>To receive bug fixes and feature enhancements that come with minor releases, keep your Percona Distribution for MongoDB upgraded to the latest version.</p> <p>This document describes the upgrade from Percona repositories as the recommended method. </p> <p>Before the upgrade, we recommend to back up your data in order to be on the safe side if anything goes wrong.</p>"},{"location":"minor-upgrade.html#prerequisites","title":"Prerequisites","text":"<ol> <li> <p>Update percona-release repository management tool to the latest version. This is required to install new version packages of Percona Distribution for MongoDB.</p> </li> <li> <p>Enable the repository</p> <p>If you installed Percona Distribution for MongoDB from the Major release repository, this step is optional. This repository automatically includes new version packages and you receive a prompt for an upgrade from the package manager of your operating system.</p> <p>If you installed Percona Distribution for MongoDB from the Minor release repository, you must enable the new version repository (for example, <code>pdmdb-7.0.4</code>) to upgrade. We recommend to use the <code>setup</code> subcommand:</p> <pre><code>$ sudo percona-release setup pdmdb-7.0.4\n</code></pre> </li> </ol>"},{"location":"minor-upgrade.html#procedure","title":"Procedure","text":"<p>Run the following commands as root or by using the sudo command.</p>"},{"location":"minor-upgrade.html#stop-the-service","title":"Stop the service","text":"<p>Stop Percona Server for MongoDB:</p> <pre><code>$ sudo systemctl mongod stop\n</code></pre> <p>Stop pbm-agent:</p> <pre><code>$ sudo systmectl pbm-agent stop\n</code></pre>"},{"location":"minor-upgrade.html#install-new-version-packages","title":"Install new version packages","text":"<p>Install a new version of Percona Distribution for MongoDB using the package manager of your operating system. </p>"},{"location":"minor-upgrade.html#restart-the-service","title":"Restart the service","text":"<p>Start Percona Server for MongoDB:</p> <pre><code>$ sudo systemctl restart mongod\n</code></pre> <p>Start pbm-agent:</p> <pre><code>$ sudo systmectl restart pbm-agent \n</code></pre> <p></p>"},{"location":"minor-upgrade.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.11.html","title":"Percona Distribution for MongoDB 7.0.11 (2024-06-03)","text":"<p>Installation</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. Its aim is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.11-6 and Percona Backup for MongoDB 2.5.0.</p>"},{"location":"release-notes-v7.0.11.html#release-highlights","title":"Release Highlights","text":"<ul> <li>Fixed the issue issue with the aggregation pipeline in MongoDB when using the <code>$lookup stage</code> with a time series foreign collection using a correlated predicate</li> <li>Improved the behavior of <code>applyOps: dropIndexes</code> command on MongoDB 7.x when no UUID is specified by completing it without dropping indexes</li> <li>Ensured that the index entry inconsistencies validation produces complete results and respects memory limits</li> <li>Fixed the issue with performance regression by skipping in-memory deleted pages as part of the tree walk on each execution.</li> <li>Fixed the issue with excessive logging on arbiter nodes by preventing running of FTDC (Full-Time Diagnostic Data Capture) stats on these nodes</li> <li>Improved the <code>disableTestParameters</code> behavior to not be dependent on when the <code>setParameters</code> is set.</li> <li>Improved handling of directoryPerDb and wiredTigerDirectoryForIndexes to not insert directories as key when reporting namespaces and UUIDs during a backup   </li> <li>Improved checkpoint cleanup and page eviction logic to prevent their unnecessary slowdown by evicting the internal pages read by the checkpoint like a regular page.</li> </ul> <p>Percona Backup for MongoDB 2.5.0 improvements are the following:</p> <ul> <li>The ability to restore the desired subset of custom databases with users and roles created in them. This is useful for deployments where each user has an individual database and authenticates against it.</li> <li>Previous versions of PBM required that <code>readConcern</code> and <code>writeConcern</code> are set to <code>majority</code> in MongoDB. In Percona Backup for MongoDB 2.5.0 you can now explicitly override this behavior, and thus, ensure backups in clusters configured to operate without the majority or lost it for some reason.</li> </ul> <p></p>"},{"location":"release-notes-v7.0.11.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.12.html","title":"Percona Distribution for MongoDB 7.0.12 (2024-07-23)","text":"<p>Upgrade now</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. Its aim is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.12-7 and Percona Backup for MongoDB 2.5.0.</p>"},{"location":"release-notes-v7.0.12.html#release-highlights","title":"Release Highlights","text":"<ul> <li>Upgraded the MozJS/SpiderMonkey engine that MongoDB uses to execute server-side JavaScript code within the database server to the latest ESR (Extended Support Release)</li> <li>Made sure an old heartbeat that is being processed when primary catchup starts does not cause the primary catchup to think it\u2019s already caught up</li> <li>Fixed the sorting of results produced by the <code>$unwind</code> aggregation with the array index field specified</li> <li>Marked the page clean in WiredTiger after re-instantiating the page with prepared updates to avoid reconciling the page every time</li> </ul> <p>Percona Backup for MongoDB 2.5.0 improvements are the following:</p> <ul> <li>The ability to restore the desired subset of custom databases with users and roles created in them. This is useful for deployments where each user has an individual database and authenticates against it.</li> <li>Previous versions of PBM required that <code>readConcern</code> and <code>writeConcern</code> are set to <code>majority</code> in MongoDB. In Percona Backup for MongoDB 2.5.0 you can now explicitly override this behavior, and thus, ensure backups in clusters configured to operate without the majority or lost it for some reason.</li> </ul> <p></p>"},{"location":"release-notes-v7.0.12.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.14.html","title":"Percona Distribution for MongoDB 7.0.14 (2024-09-23)","text":"<p>Upgrade now</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. Its aim is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.14-8 and Percona Backup for MongoDB 2.6.0.</p>"},{"location":"release-notes-v7.0.14.html#release-highlights","title":"Release Highlights","text":""},{"location":"release-notes-v7.0.14.html#percona-server-for-mongodb-improvements","title":"Percona Server for MongoDB improvements","text":""},{"location":"release-notes-v7.0.14.html#reduce-mean-time-to-resolve-mttr-compromised-encryption-key-incidents-in-kmip","title":"Reduce mean time to resolve (MTTR) compromised encryption key incidents in KMIP","text":"<p>Starting with this release, Percona Server for MongoDB automatically activates all new master encryption keys at startup and periodically checks (polls) their status in a KMIP server. If a master encryption key for a node transitions to the state other than Active, the node reports an error and shuts down. This method allows security engineers to quickly identify which nodes require out-of-schedule master key rotation, such as in the case of compromised keys, without needing to rotate keys for the entire cluster. </p> <p>Learn more about key state polling from the documentation </p>"},{"location":"release-notes-v7.0.14.html#easier-dependency-management-with-thinner-tarballs","title":"Easier dependency management with thinner tarballs","text":"<p>Tarballs are now available for each supported operating system individually and no longer include built-in libraries. This change reduces the tarball download size and increases their security by simplifying updates for required dependencies. </p>"},{"location":"release-notes-v7.0.14.html#upstream-improvements","title":"Upstream Improvements","text":"<ul> <li>Added support of internal expr comparison operators when determining clustered collection scan bounds</li> <li>Fixed the error in the <code>$merge</code> operation produced by the pipeline after the <code>$documents</code> stage by correcting the namespace for pipeline validation</li> <li>Provided a generic backportable solution not to miss top-level timeseries collection options</li> <li>Enabled indexed plans for expressions referencing system variables by updating the fallback mechanism to disable SBE (Slot-Based Execution Engine) when a system variable is referenced in an expression.</li> <li>Fixed Eviction Server walk logic in WiredTiger so that it\u2019s able to evict all pages</li> </ul>"},{"location":"release-notes-v7.0.14.html#percona-backup-for-mongodb-260-improvements","title":"Percona Backup for MongoDB 2.6.0 improvements","text":""},{"location":"release-notes-v7.0.14.html#multiple-storages-for-backups-and-restores","title":"Multiple storages for backups and restores","text":"<p>You can now define multiple storages for making backups and instruct PBM on what storage to save a backup: on the main or on any additional (external) one. This ability helps you save on data transfer costs when using cloud storage, as well as enables you to follow closely with the requirements of your organization\u2019s backup policy.</p> <p>To learn more, read Multiple storages for backups.</p>"},{"location":"release-notes-v7.0.14.html#adjust-node-priority-for-point-in-time-recovery-oplog-slicing","title":"Adjust node priority for point-in-time recovery oplog slicing","text":"<p>You can now redefine node priorities not only for making backups but also for point-in-time recovery oplog slices. For example, you can instruct PBM to save oplog slices either from a dedicated node or from nodes in the geographically closest location, thus reducing network latency. </p> <p>See the Adjust node priority for oplog slices section for guidelines.</p>"},{"location":"release-notes-v7.0.14.html#additional-control-over-pbm-command-execution","title":"Additional control over PBM command execution","text":"<p>You can now configure the waiting time for a command execution by passing the <code>--wait-time</code> flag for the following commands:</p> <ul> <li>pbm config \u2013force-resync \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm backup \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm restore \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm oplog-replay \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm profile add \u2013sync \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm profile remove \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm profile sync \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm delete-pitr \u2013older-than \u2013wait \u2013wait-time=\u201d5m\u201d</li> <li>pbm cleanup \u2013older-than \u2013wait \u2013wait-time=\u201d5m\u201d</li> </ul> <p>This way you have more control over the PBM operation. This enhancement also improves the error logging.</p>"},{"location":"release-notes-v7.0.14.html#snapshot-based-physical-backups-are-generally-available","title":"Snapshot-based physical backups are generally available","text":"<p>With snapshot-based physical backups now generally available, you can use this functionality in production environments and enjoy all the benefits of faster restores from snapshots with almost immediate access to data. </p>"},{"location":"release-notes-v7.0.14.html#dropped-support-of-mongodb-44","title":"Dropped support of MongoDB 4.4","text":"<p>Percona Backup for MongoDB drops support of MongoDB 4.4. Existing functionality in Percona Backup for MongoDB remains compatible with MongoDB 4.4 and Percona Server for MongoDB 4.4; however, further enhancements and bug fixes are no longer tested against this version.</p>"},{"location":"release-notes-v7.0.14.html#packaging-changes","title":"Packaging Changes","text":"<ul> <li>Percona Distribution for MongoDB 7.0.14 is available on Ubuntu 24.04 (Noble Numbat)</li> <li>Percona Distribution for MongoDB 7.0.14 is no longer supported for Red Hat Enterprise 7 and derivatives as these operating systems reached End-Of-Life.</li> </ul>"},{"location":"release-notes-v7.0.14.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.4.html","title":"Percona Distribution for MongoDB 7.0.4 (2023-12-11)","text":"<p>Installation</p> <p>We are pleased to announce the release of the Percona Distribution for MongoDB  for the recent major version 7.0.x.</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. The aim of Percona Distribution for MongoDB is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.4-2 and Percona Backup for MongoDB 2.3.1.</p>"},{"location":"release-notes-v7.0.4.html#release-highlights","title":"Release Highlights","text":"<ul> <li>AWS IAM authentication is now generally available, enabling you to use this functionality in production environments.</li> <li>Added the ability to configure the retry behavior for Percona Server for MongoDB to connect to the KMIP server when using data-at-rest encryption</li> <li>Percona Server for MongoDB now includes telemetry that fills in the gaps in our understanding of how you use our products and how we can better improve them. Participation in the anonymous program is optional. You can opt-out if you prefer not to share this information. Read more about Telemetry.  </li> <li>Fixed the routing issue with sharded time series collections which could result in metadata inconsistency. The issue occurred when the documents that have the shard key containing the embedded object composed of multiple fields are routed to an incorrect shard and become orphanated. As a result orphanated documents may not be returned when queried through the mongos and/or may be deleted. The issue affects time series sharded collections starting in MongoDB version 5.0.6 through versions 5.0.21, 6.0.11 and 7.0.2. </li> </ul> <p>If you are using time series collections, upgrade to MongoDB 7.0.4 or Percona Server for MongoDB 7.0.4-2 as soon as possible. Please follow closely the upstream recommendations for how to identify and preserve orphanated documents. </p> <ul> <li>Fixed the order of execution of data inserts/updates and deletes into <code>config.image_collection</code> </li> <li>Fixed the behaviour of the <code>$merge</code> aggregation stage on sharded clusters when the default read concern has been set to \u201cmajority\u201d</li> <li>Optimized large group keys by adding the document shredder stage</li> <li>Speeded up the logic that persist routing table cache</li> <li>Fixed the $densify stage processing where documents are generated outside of range</li> <li>Fixed the issue with the data and the ShardVersion mismatch for sharded multi-document transactions by adding the check that no chunk has moved for the collection being referenced since transaction started</li> <li>Improved the slot-based execution engine (SBE) multi-planner performance for query which returns zero results</li> <li>Improved the recipient shard behavior during the chunk migration to wait for changes to catalog cache to be persisted before the cloning phase.</li> <li>Fixed the issue that caused the modification of the original ChunkMap vector during the chunk migration and that could lead to data loss. The issue affects MongoDB versions 4.4.25, 5.0.21, 6.0.10 through 6.0.11 and 7.0.1 through 7.0.2. Requires stopping all chunk merge activities and restarting all the binaries in the cluster (both <code>mongod</code> and <code>mongos</code>). </li> <li>Fixed the rollback-to-stable behavior to read the newest transaction value only when it exists in the checkpoint.</li> </ul> <p>Percona Backup for MongoDB 2.3.1 improvements are the following:</p> <ul> <li>Support for Percona Server for MongoDB 7.0.x</li> <li>The ability to define custom endpoints when using Microsoft Azure Blob Storage for backups</li> <li>Improved PBM Docker image to allow making physical backups with the shared mongodb data volume</li> <li>Updated Golang libraries that include fixes for the security vulnerability CVE-2023-39325.</li> </ul> <p></p>"},{"location":"release-notes-v7.0.4.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.5.html","title":"Percona Distribution for MongoDB 7.0.5 (2024-01-23)","text":"<p>Installation</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. Its aim is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.5-3 and Percona Backup for MongoDB 2.3.1.</p>"},{"location":"release-notes-v7.0.5.html#release-highlights","title":"Release Highlights","text":"<ul> <li>Removed size storer entries upon collection drop</li> <li>Explicitly stated that the missing <code>w</code> field from write concern object will be filled with default write concern value</li> <li>Fixed infinite loop in lockstep $or plan enumeration</li> <li>Investigated a solution to avoid a Full Time Diagnostic Data Capture (FTDC) mechanism to stall during checkpoint</li> </ul> <p>Percona Backup for MongoDB 2.3.1 improvements are the following:</p> <ul> <li>Support for Percona Server for MongoDB 7.0.x</li> <li>The ability to define custom endpoints when using Microsoft Azure Blob Storage for backups</li> <li>Improved PBM Docker image to allow making physical backups with the shared mongodb data volume</li> <li>Updated Golang libraries that include fixes for the security vulnerability CVE-2023-39325.</li> </ul> <p></p>"},{"location":"release-notes-v7.0.5.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.7.html","title":"Percona Distribution for MongoDB 7.0.7 (2024-04-04)","text":"<p>Installation</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. Its aim is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.7-4 and Percona Backup for MongoDB 2.4.1.</p> <p>Warning</p> <p>Due to CVE-2024-1351, in all MongoDB versions prior to 4.4.29, the <code>mongod</code> server allows incoming connections to skip peer certificate validation which results in untrusted connections to succeed. This issue occurs when the <code>mongod</code> is started with TLS enabled (<code>net.tls.mode</code> set to <code>allowTLS</code>, <code>preferTLS</code>, or <code>requireTLS</code>) and without a <code>net.tls.CAFile</code> configured. For details, see SERVER-72839.</p> <p>The issue is fixed upstream in versions 4.4.29, 5.0.25, 6.0.14 and 7.0.6 and in Percona Server for MongoDB 4.4.29-28, 5.0.25-22, 6.0.14-11 and 7.0.7-4. Now, configuring MongoDB to use TLS requires specifying the value for the <code>--tlsCAFile</code> flag, the <code>net.tls.CAFile</code>configuration option, or the <code>tlsUseSystemCA</code> parameter.</p>"},{"location":"release-notes-v7.0.7.html#release-highlights","title":"Release Highlights","text":"<p>The bug fixes and improvements provided by MongoDB and included in Percona Distribution for MongoDB are the following:</p> <p>Fixed the issue with missing peer certificate validation if neither CAFile nor clusterCAFile is provided. Fixed the issue with multi-document transactions missing documents when the movePrimary operation runs concurrently by detecting placement conflicts in multi-document transactions. * Changed the requirement to use exclusive write lock to intent exclusive write lock that doesn\u2019t prevent reading from a collection during the <code>$out</code> stage when running the rename collection command. * Fixed the issue in SBE (Storage Based Encryption) engine with returning incorrect results when running queries/aggregations with a <code>$or</code> operator and the is enabled. * Ensured sharding catalog is valid when acquiring collections in multi-document transactions. * Fixed the issue with the <code>createIndex</code> command failing with the <code>StaleConfig</code> error if it is run from a stale mongos against a sharded non-empty collection. * Improved the warning about persisted Read/Write Consern defaults on startup by showing it only for shard servers.  * In mixed replica sets where nodes have different Feature Compatibilty Version value, the primary nodes reject the commands with parameters that cannot be recognized by other replica set members. * Fixed the issue with exhaustive find command on config shard returning stale data by making shard registry use snapshot readConcern for reads from <code>config.shards</code> collection. </p> <p>Percona Backup for MongoDB 2.4.x improvements are the following:</p> <ul> <li>Ability to delete backup snapshots of a specific type. For example, you can delete only logical backups which you might have created and no longer need. You can also check what exactly will be deleted with the new <code>--dry-run flag</code>. This improvement helps you better meet the organization\u2019s backup policy and improves your experience with cleaning up outdated data.</li> <li>Point-in-time recovery oplog slicing is now running in parallel with backup snapshots. This ensures that you can make a point-in-time recovery to any timestamp from very large backups that take hours to make.</li> <li>Fixed the issue with failing incremental backups. It was caused by the backup metadata document reaching the maximum size limit of 16MB. The issue is fixed by introducing the new approach of handling the metadatada document: it no longer contains the list of backup files which is now stored separately on the storage and is read by PBM on demand. The new metadata handling approach applies to physical, incremental and shapshot-based backups.</li> </ul> <p></p>"},{"location":"release-notes-v7.0.7.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes-v7.0.8.html","title":"Percona Distribution for MongoDB 7.0.8 (2024-04-24)","text":"<p>Installation</p> <p>Percona Distribution for MongoDB is a freely available MongoDB database alternative, giving you a single solution that combines enterprise components from the open source community, designed and tested to work together. Its aim is to enable you to run and operate your MongoDB efficiently with the data being consistently backed up.</p> <p>Percona Distribution for MongoDB includes the following components:</p> <ul> <li> <p>Percona Server for MongoDB is a fully compatible source-available, drop-in replacement for MongoDB.</p> </li> <li> <p>Percona Backup for MongoDB is a distributed, low-impact solution for achieving consistent backups of MongoDB sharded clusters and replica sets.</p> </li> </ul> <p>This release of Percona Distribution for MongoDB is based on the production release of Percona Server for MongoDB 7.0.8-5 and Percona Backup for MongoDB 2.4.1.</p>"},{"location":"release-notes-v7.0.8.html#release-highlights","title":"Release Highlights","text":"<p>Warning</p> <p>A number of issues with sharded multi-document transactions in sharded clusters of 2 or more shards have been identified that result in returning incorrect results and missing reads and writes. The issues occur when the transactions\u2019 metadata is being concurrently modified by using the following operations: <code>moveChunk</code>, <code>moveRange</code>, <code>movePrimary</code>, <code>renameCollection</code>, <code>drop</code>, and <code>reshardCollection</code>.  The data is affected when using the following functionalities:</p> <ul> <li>Sharded multi-document transactions</li> <li>Queryable encryption</li> </ul> <p>The issues are fully fixed in MongoDB  4.4.29, 5.0.25, 6.0.14, 7.0.8, and are included in Percona Server for MongoDB 4.4.29-28, 5.0.26-22,6.0.14-11 and 7.0.8-5. If you are using sharded multi-document transactions or queryable encryption, upgrade to Percona Server for MongoDB 7.0.8-5 as soon as possible. Please follow closely the upstream recommendations for mitigation and remediation outlined in Sharded multi-document transactions may perform operations using inconsistent sharding metadata alert.</p> <p>The bug fixes and improvements provided by MongoDB and included in Percona Distribution for MongoDB are the following:</p> <ul> <li> <p>Fixed the issue with reads returning incomplete results and mismatched sharding metadata when performed on sharded collections with the <code>readConcern: snapshot</code> and an <code>atClusterTime</code> values. The issue occurs if the following conditions apply to collections:</p> <ul> <li>a collection is sharded at either the time of the read or at the atClusterTime.</li> <li>a collection is dropped after the time atClusterTime</li> <li>a collection is recreated as non-sharded after being dropped.</li> </ul> <p>The issue affects MongoDB versions 7.0.0 through 7.0.7. It is fixed upstream in 7.0.8 and is included in Percona Server for MongoDB 7.0.8-5. Follow the upstream recommendations for workaround and remediation.</p> </li> <li> <p>Fixed the issue with the replication lag by changing the <code>internalInsertMaxBatchSize</code> default value to 64</p> </li> <li>Fixed NUMA (Non-Uniform Memory Access) nodes counting</li> <li>Ensured that query shape for <code>$documents</code> stage in an aggregation pipeline is unique on each execution.</li> </ul> <p>Percona Backup for MongoDB 2.4.x improvements are the following:</p> <ul> <li>Ability to delete backup snapshots of a specific type. For example, you can delete only logical backups which you might have created and no longer need. You can also check what exactly will be deleted with the new <code>--dry-run flag</code>. This improvement helps you better meet the organization\u2019s backup policy and improves your experience with cleaning up outdated data.</li> <li>Point-in-time recovery oplog slicing is now running in parallel with backup snapshots. This ensures that you can make a point-in-time recovery to any timestamp from very large backups that take hours to make.</li> <li>Fixed the issue with failing incremental backups. It was caused by the backup metadata document reaching the maximum size limit of 16MB. The issue is fixed by introducing the new approach of handling the metadatada document: it no longer contains the list of backup files which is now stored separately on the storage and is read by PBM on demand. The new metadata handling approach applies to physical, incremental and shapshot-based backups.</li> </ul> <p></p>"},{"location":"release-notes-v7.0.8.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"release-notes.html","title":"Percona Distribution for MongoDB release notes","text":"<ul> <li> <p>Percona Distribution for MongoDB 7.0.14 (2024-09-23)</p> </li> <li> <p>Percona Distribution for MongoDB 7.0.12 (2024-07-23)</p> </li> <li> <p>Percona Distribution for MongoDB 7.0.11 (2024-06-03)</p> </li> <li> <p>Percona Distribution for MongoDB 7.0.8 (2024-04-24)</p> </li> <li> <p>Percona Distribution for MongoDB 7.0.7 (2024-04-04)</p> </li> <li> <p>Percona Distribution for MongoDB 7.0.5 (2024-01-23)</p> </li> <li> <p>Percona Distribution for MongoDB 7.0.4 (2023-12-11)</p> </li> </ul> <p></p>"},{"location":"release-notes.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"repo-overview.html","title":"Repository overview","text":"<p>Percona provides two repositories for Percona Distribution for MongoDB:</p> Major release repository Minor release repository Major Release repository (for example, <code>pdmdb-7.0</code>) includes the latest version packages. Whenever a package is updated, the package manager of your operating system detects that and prompts you to update. As long as you update all Distribution packages at the same time, you can ensure that the packages you\u2019re using have been tested and verified by Percona.  We recommend to install Percona Distribution for MongoDB from the Major Release repository Minor Release repository includes a particular minor release of the database and all of the packages that were tested and verified to work with that minor release (for example, <code>pdmdb-6.0.3</code>). You may choose to install Percona Distribution for MongoDB from the Minor Release repository if you have decided to standardize on a particular release which has passed rigorous testing procedures and which has been verified to work with your applications. This allows you to deploy to a new host and ensure that you\u2019ll be using the same version of all the Distribution packages, even if newer releases exist in other repositories. The disadvantage of using a Minor Release repository is that you are locked in this particular release. When potentially critical fixes are released in a later minor version of the database, you will not be prompted for an upgrade by the package manager of your operating system. You would need to change the configured repository in order to install the upgrade. <p></p>"},{"location":"repo-overview.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"},{"location":"trademark-policy.html","title":"Trademark Policy","text":"<p>This Trademark Policy is to ensure that users of Percona-branded products or services know that what they receive has really been developed, approved, tested and maintained by Percona. Trademarks help to prevent confusion in the marketplace, by distinguishing one company\u2019s or person\u2019s products and services from another\u2019s.</p> <p>Percona owns a number of marks, including but not limited to Percona, XtraDB, Percona XtraDB, XtraBackup, Percona XtraBackup, Percona Server, and Percona Live, plus the distinctive visual icons and logos associated with these marks. Both the unregistered and registered marks of Percona are protected.</p> <p>Use of any Percona trademark in the name, URL, or other identifying characteristic of any product, service, website, or other use is not permitted without Percona\u2019s written permission with the following three limited exceptions.</p> <p>First, you may use the appropriate Percona mark when making a nominative fair use reference to a bona fide Percona product.</p> <p>Second, when Percona has released a product under a version of the GNU General Public License (\u201cGPL\u201d), you may use the appropriate Percona mark when distributing a verbatim copy of that product in accordance with the terms and conditions of the GPL.</p> <p>Third, you may use the appropriate Percona mark to refer to a distribution of GPL-released Percona software that has been modified with minor changes for the sole purpose of allowing the software to operate on an operating system or hardware platform for which Percona has not yet released the software, provided that those third party changes do not affect the behavior, functionality, features, design or performance of the software. Users who acquire this Percona-branded software receive substantially exact implementations of the Percona software.</p> <p>Percona reserves the right to revoke this authorization at any time in its sole discretion. For example, if Percona believes that your modification is beyond the scope of the limited license granted in this Policy or that your use of the Percona mark is detrimental to Percona, Percona will revoke this authorization. Upon revocation, you must immediately cease using the applicable Percona mark. If you do not immediately cease using the Percona mark upon revocation, Percona may take action to protect its rights and interests in the Percona mark. Percona does not grant any license to use any Percona mark for any other modified versions of Percona software; such use will require our prior written permission.</p> <p>Neither trademark law nor any of the exceptions set forth in this Trademark Policy permit you to truncate, modify or otherwise use any Percona mark as part of your own brand. For example, if XYZ creates a modified version of the Percona Server, XYZ may not brand that modification as \u201cXYZ Percona Server\u201d or \u201cPercona XYZ Server\u201d, even if that modification otherwise complies with the third exception noted above.</p> <p>In all cases, you must comply with applicable law, the underlying license, and this Trademark Policy, as amended from time to time. For instance, any mention of Percona trademarks should include the full trademarked name, with proper spelling and capitalization, along with attribution of ownership to Percona Inc. For example, the full proper name for XtraBackup is Percona XtraBackup. However, it is acceptable to omit the word \u201cPercona\u201d for brevity on the second and subsequent uses, where such omission does not cause confusion.</p> <p>In the event of doubt as to any of the conditions or exceptions outlined in this Trademark Policy, please contact trademarks@percona.com for assistance and we will do our very best to be helpful.</p> <p></p>"},{"location":"trademark-policy.html#get-expert-help","title":"Get expert help","text":"<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p> <p> Community Forum  Get a Percona Expert</p>"}]}